<html class="x-admin-sm">  <head>    <meta charset="UTF-8">    <title>职位管理</title>    <meta name="renderer" content="webkit">    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    <!--<meta name="viewport" content="width=device-width,role-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />-->    <link rel="stylesheet" href="../../css/font.css">    <link rel="stylesheet" href="../../css/xadmin.css">    <script type="text/javascript" src="../../js/jquery3.2.1.min.js"></script>    <script type="text/javascript" src="../../lib/layui/layui.js" charset="utf-8"></script>    <script type="text/javascript" src="../../js/xadmin.js"></script>    <script type="text/javascript" src="../../js/cookie.js"></script>    <script type="text/javascript" src="../../js/vue.min.js"></script>    <script type="text/javascript" src="../../js/axios.min.js"></script>    <!--<script type="text/javascript" src="../../js/vue-paginate.js"></script>-->    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->    <!--[if lt IE 9]>      <script src="../../js/html5.min.js"></script>      <script src="../../js/respond.min.js"></script>      <![endif]-->  </head>  <body >    <div class="x-nav" >      <span class="layui-breadcrumb">        <a href="">首页</a>        <a href="">职位管理</a>        <a>          <cite>职位列表</cite></a>      </span>      <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);" title="刷新">        <i class="layui-icon" style="line-height:30px">ဂ</i></a>    </div>    <div class="x-body" id="role">      <!--<div class="layui-row">-->        <!--<div class=" layui-col-md12 x-so">-->        <!--</div>-->      <!--</div>-->      <xblock>        <!--<button class="layui-btn layui-btn-danger" @click="delAll()"><i class="layui-icon"></i>批量删除</button>-->        <button class="layui-btn" @click="x_admin_show('添加职位','./role-add.html',600,750,app.getAll)">          <i class="layui-icon"></i>添加职位</button>        <span class="x-right" style="line-height:40px">共有数据：{{roles.length}} 条</span>      </xblock>      <table class="x-admin layui-table ">        <thead>          <tr>            <th>ID</th>            <th>职位</th>            <th>描述</th>            <th>月薪</th>            <th>创建日期</th>            <th>更新日期</th>            <!--<th>状态</th>-->            <th>操作</th>          </tr>        </thead>        <tbody id="tbody">          <tr v-for="items in roles">            <td lay-sort="true">{{items.id}}</td>            <td>{{items.name}}</td>            <td>{{items.description}}</td>            <td>{{items.salary}}</td>            <td>{{items.createTime}}</td>            <td>{{items.updateTime}}</td>            <!--<td class="td-status">-->              <!--<span class="layui-btn layui-btn-normal layui-btn-mini" v-if="items.status==1">已启用</span>-->              <!--<span class="layui-btn layui-btn-disabled layui-btn-mini" v-else-if="items.status===2">已锁定</span>-->              <!--<span class="layui-btn layui-btn-disabled layui-btn-mini" v-else>已停用</span>-->            <!--</td>-->            <td class="td-manage">              <!--<a :id="'status:'+items.id" @click="role_stop(items.id)" href="javascript:;"  :title="items.status?'停用':'启用'">-->                <!--<i class="layui-icon" v-if="items.status">&#xe601;</i>-->                <!--<i class="layui-icon" v-else>&#xe62f;</i>-->              <!--</a>-->              <a title="编辑"  @click="edit(items)" href="javascript:;">                <i class="layui-icon">&#xe642;</i>              </a>              <a title="删除" @click="del(items.id)" href="javascript:;">                <i class="layui-icon">&#xe640;</i>              </a>            </td>          </tr>        </tbody>      </table>    </div>    <script>        // import Paginate from '../../js/vue-paginate'        // Vue.component('paginate', VuePaginate);        const app = new Vue({            el: "#role",            data: {                // Note 'isActive' is left out and will not appear in the rendered table                roles:[],            },//自动加载            mounted() {                this.getAll();                // $('#all').html('<div class="layui-unselect layui-form-checkbox header " ' +                //     'lay-skin="primary"><i class="layui-icon">&#xe605;</i></div>')            },            methods:{                getAll() {                    axios.get(urlPrefix+'/roles?token=' + token, {                    }).then((response) => {                        var r = response.data;                        this.roles=r;                    }).catch((err) => {                        errHandler(err)                    });                }                ,                edit(obj){                    sessionStorage.setItem('role', JSON.stringify(obj));                    x_admin_show('编辑','role-edit.html',600,750,this.getAll);                },                /*用户-删除*/                del(id){                  if (id!=null){                    layer.confirm('确认要删除吗？',function(index){                      //发异步删除数据                        axios.delete(urlPrefix+'/roles/'+id+'?token=' + token,                        ).then((response)=>{                            // var obj = document.getElementById("id:"+id).parentElement;                            // obj.remove();                            layer.msg('已删除!',{icon:1,time:1000});                            app.getAll(0);                            $('.x').removeClass('layui-form-checked');                        }).catch((err)=>                        {                            errHandler(err)                        })                    });                 }                },              }        });    </script>  </body></html>
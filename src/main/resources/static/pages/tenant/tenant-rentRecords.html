<html class="x-admin-sm" xmlns="http://www.w3.org/1999/html"><head>  <meta charset="UTF-8">  <title>格主组赁记录</title>  <meta name="renderer" content="webkit">  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">  <!--<meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />-->  <link rel="stylesheet" href="../../css/font.css">  <link rel="stylesheet" href="../../css/xadmin.css">  <script type="text/javascript" src="../../js/jquery3.2.1.min.js"></script>  <script type="text/javascript" src="../../lib/layui/layui.js" charset="utf-8"></script>  <script type="text/javascript" src="../../js/xadmin.js"></script>  <script type="text/javascript" src="../../js/cookie.js"></script>  <script type="text/javascript" src="../../js/vue.min.js"></script>  <script type="text/javascript" src="../../js/axios.min.js"></script>  <!--<script type="text/javascript" src="../../js/vue-paginate.js"></script>-->  <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->  <!--[if lt IE 9]>  <script src="../../js/html5.min.js"></script>  <script src="../../js/respond.min.js"></script>  <![endif]--></head><body><div class="x-body" id="tenant">  <xblock>    <button class="layui-btn layui-btn-warm">格主ID：{{tenant.id}}</button>    <button class="layui-btn layui-btn-warm">格主姓名：{{tenant.name}}</button>    <span class="x-right" style="line-height:40px">共有数据：{{this.totalElements}} 条</span>  </xblock>  <table class="x-admin layui-table ">    <thead>    <tr>      <!--<th id="all"></th>-->      <th>记录ID</th>      <th>创建时间</th>      <th>到期时间</th>      <th>总租金</th>      <th colspan="2">格子铺(ID/姓名)</th>      <th>当前状态</th>    </tr>    </thead>    <tbody id="tbody">    <tr v-for="items in records">      <!--<td :id="'id:'+items.id">-->        <!--<div class=" layui-unselect layui-form-checkbox x" lay-skin="primary" :data-id="items.id">-->          <!--<i class="layui-icon">&#xe605;</i>-->        <!--</div>-->      <!--</td>-->      <td lay-sort="true">{{items.id}}</td>      <td>{{items.date}}</td>      <td>{{items.endDate}}</td>      <td>{{items.fee}}</td>      <td>{{items.gridId}}</td>      <td>{{items.gridByGridId.name}}</td>        <td><button class="layui-btn layui-btn-normal" v-if="items.status">在租用</button>            <button class="layui-btn layui-btn-disabled" v-else>已解租</button>        </td>    </tr>    </tbody>  </table>  <div class="page" v-show="paginate">    <a @click="getAll(pageNumber-2)">&lt;&lt;</a>    <input  v-model="pageNumber" @change="getAll(pageNumber-1)"/>/    <a>{{totalPages}}</a>    <a @click="getAll(pageNumber)">&gt;&gt;</a>  </div></div><script>    const app = new Vue({        el: "#tenant",        data: {// Note 'isActive' is left out and will not appear in the rendered table            records:[],            pageNumber:1,            pageSize:10,            first:'',            last:'',            totalElements:0,            totalPages:1,            tenant:{},            paginate:true,        },//自动加载        mounted() {            this.tenant=JSON.parse(sessionStorage.getItem('tenant'));            this.getAll(0);            $('#all').html('<div class="layui-unselect layui-form-checkbox header " ' +                'lay-skin="primary"><i class="layui-icon">&#xe605;</i></div>')        },        methods:{            getAll(pages) {                if (pages>-1&&pages<this.totalPages||this.totalPages===0){                    this.pageNumber =pages;                    axios.get(urlPrefix+'/rentRecords/tenant/'+this.tenant.id+'/'+pages+'?token=' + token,                    ).then((response) => {                        var r = response.data.data;                        this.records = r.content;                        this.pageNumber=r.number+1;                        this.first=r.first;                        this.last=r.last;                        this.totalElements=r.totalElements;                        this.totalPages=r.totalPages;// alert(JSON.stringify(response.data.data))'                        this.paginate = this.totalElements>10;                    }).catch((err) => {                        errHandler(err);                    });                }else if (pages<0&&!(this.first&&this.last)){                    layer.msg("已经是首页",{icon:0,time:1000});                } else{                    if (!(this.first&&this.last)) {                        layer.msg("已经是尾页",{icon:0,time:1000});                    }                }            },            reset(){                this.name = '';                this.phone = '';                this.sex = '';            }        }    });    layui.use('laydate', function(){        var laydate = layui.laydate;        //执行一个laydate实例        laydate.render({            elem: '#start', //指定元素            format:'yyyy-MM-dd',            done:(value)=>{                // app.start = value;            }        });        //执行一个laydate实例        laydate.render({            elem: '#end', //指定元素            format:'yyyy-MM-dd',            done:(value)=>{                // app.start = value;            }        });    });</script></body></html>